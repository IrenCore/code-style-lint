import at from"inquirer";import Ue from"prettier";import Ge from"fs";import ft from"constants";import st from"stream";import Ve from"util";import Ke from"assert";import J from"path";import{red as lt,cyan as yt,lightGreen as Qe}from"kolorist";import le from"node:path";import{fileURLToPath as mt}from"node:url";var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q={},L={};L.fromCallback=function(e){return Object.defineProperty(function(...n){if(typeof n[n.length-1]=="function")e.apply(this,n);else return new Promise((t,r)=>{e.call(this,...n,(i,o)=>i!=null?r(i):t(o))})},"name",{value:e.name})},L.fromPromise=function(e){return Object.defineProperty(function(...n){const t=n[n.length-1];if(typeof t!="function")return e.apply(this,n);e.apply(this,n.slice(0,-1)).then(r=>t(null,r),t)},"name",{value:e.name})};var Y=ft,dt=process.cwd,ye=null,ht=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ye||(ye=dt.call(process)),ye};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Xe=process.chdir;process.chdir=function(e){ye=null,Xe.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Xe)}var St=wt;function wt(e){Y.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&n(e),e.lutimes||t(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=f(e.statSync),e.fstatSync=f(e.fstatSync),e.lstatSync=f(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,s,m){m&&process.nextTick(m)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,s,m,l){l&&process.nextTick(l)},e.lchownSync=function(){}),ht==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function s(m,l,d){var $=Date.now(),p=0;u(m,l,function g(A){if(A&&(A.code==="EACCES"||A.code==="EPERM")&&Date.now()-$<6e4){setTimeout(function(){e.stat(l,function(I,te){I&&I.code==="ENOENT"?u(m,l,g):d(A)})},p),p<100&&(p+=10);return}d&&d(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(s,u),s}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function s(m,l,d,$,p,g){var A;if(g&&typeof g=="function"){var I=0;A=function(te,Be,Ye){if(te&&te.code==="EAGAIN"&&I<10)return I++,u.call(e,m,l,d,$,p,A);g.apply(this,arguments)}}return u.call(e,m,l,d,$,p,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(s,u),s}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(s,m,l,d,$){for(var p=0;;)try{return u.call(e,s,m,l,d,$)}catch(g){if(g.code==="EAGAIN"&&p<10){p++;continue}throw g}}}(e.readSync);function n(u){u.lchmod=function(s,m,l){u.open(s,Y.O_WRONLY|Y.O_SYMLINK,m,function(d,$){if(d){l&&l(d);return}u.fchmod($,m,function(p){u.close($,function(g){l&&l(p||g)})})})},u.lchmodSync=function(s,m){var l=u.openSync(s,Y.O_WRONLY|Y.O_SYMLINK,m),d=!0,$;try{$=u.fchmodSync(l,m),d=!1}finally{if(d)try{u.closeSync(l)}catch{}else u.closeSync(l)}return $}}function t(u){Y.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(s,m,l,d){u.open(s,Y.O_SYMLINK,function($,p){if($){d&&d($);return}u.futimes(p,m,l,function(g){u.close(p,function(A){d&&d(g||A)})})})},u.lutimesSync=function(s,m,l){var d=u.openSync(s,Y.O_SYMLINK),$,p=!0;try{$=u.futimesSync(d,m,l),p=!1}finally{if(p)try{u.closeSync(d)}catch{}else u.closeSync(d)}return $}):u.futimes&&(u.lutimes=function(s,m,l,d){d&&process.nextTick(d)},u.lutimesSync=function(){})}function r(u){return u&&function(s,m,l){return u.call(e,s,m,function(d){y(d)&&(d=null),l&&l.apply(this,arguments)})}}function i(u){return u&&function(s,m){try{return u.call(e,s,m)}catch(l){if(!y(l))throw l}}}function o(u){return u&&function(s,m,l,d){return u.call(e,s,m,l,function($){y($)&&($=null),d&&d.apply(this,arguments)})}}function c(u){return u&&function(s,m,l){try{return u.call(e,s,m,l)}catch(d){if(!y(d))throw d}}}function a(u){return u&&function(s,m,l){typeof m=="function"&&(l=m,m=null);function d($,p){p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),l&&l.apply(this,arguments)}return m?u.call(e,s,m,d):u.call(e,s,d)}}function f(u){return u&&function(s,m){var l=m?u.call(e,s,m):u.call(e,s);return l&&(l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296)),l}}function y(u){if(!u||u.code==="ENOSYS")return!0;var s=!process.getuid||process.getuid()!==0;return!!(s&&(u.code==="EINVAL"||u.code==="EPERM"))}}var He=st.Stream,pt=vt;function vt(e){return{ReadStream:n,WriteStream:t};function n(r,i){if(!(this instanceof n))return new n(r,i);He.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var c=Object.keys(i),a=0,f=c.length;a<f;a++){var y=c[a];this[y]=i[y]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(u,s){if(u){o.emit("error",u),o.readable=!1;return}o.fd=s,o.emit("open",s),o._read()})}function t(r,i){if(!(this instanceof t))return new t(r,i);He.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),c=0,a=o.length;c<a;c++){var f=o[c];this[f]=i[f]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var Et=kt,$t=Object.getPrototypeOf||function(e){return e.__proto__};function kt(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var n={__proto__:$t(e)};else var n=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n}var P=Ge,gt=St,Ft=pt,Pt=Et,me=Ve,x,de;typeof Symbol=="function"&&typeof Symbol.for=="function"?(x=Symbol.for("graceful-fs.queue"),de=Symbol.for("graceful-fs.previous")):(x="___graceful-fs.queue",de="___graceful-fs.previous");function Ot(){}function ze(e,n){Object.defineProperty(e,x,{get:function(){return n}})}var X=Ot;if(me.debuglog?X=me.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(X=function(){var e=me.format.apply(me,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)}),!P[x]){var Dt=Oe[x]||[];ze(P,Dt),P.close=function(e){function n(t,r){return e.call(P,t,function(i){i||be(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(n,de,{value:e}),n}(P.close),P.closeSync=function(e){function n(t){e.apply(P,arguments),be()}return Object.defineProperty(n,de,{value:e}),n}(P.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){X(P[x]),Ke.equal(P[x].length,0)})}Oe[x]||ze(Oe,P[x]);var R=De(Pt(P));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!P.__patched&&(R=De(P),P.__patched=!0);function De(e){gt(e),e.gracefulify=De,e.createReadStream=Be,e.createWriteStream=Ye;var n=e.readFile;e.readFile=t;function t(h,w,S){return typeof w=="function"&&(S=w,w=null),T(h,w,S);function T(_,D,F,O){return n(_,D,function(E){E&&(E.code==="EMFILE"||E.code==="ENFILE")?z([T,[_,D,F],E,O||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}var r=e.writeFile;e.writeFile=i;function i(h,w,S,T){return typeof S=="function"&&(T=S,S=null),_(h,w,S,T);function _(D,F,O,E,C){return r(D,F,O,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?z([_,[D,F,O,E],k,C||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=c);function c(h,w,S,T){return typeof S=="function"&&(T=S,S=null),_(h,w,S,T);function _(D,F,O,E,C){return o(D,F,O,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?z([_,[D,F,O,E],k,C||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=f);function f(h,w,S,T){return typeof S=="function"&&(T=S,S=0),_(h,w,S,T);function _(D,F,O,E,C){return a(D,F,O,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?z([_,[D,F,O,E],k,C||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}var y=e.readdir;e.readdir=s;var u=/^v[0-5]\./;function s(h,w,S){typeof w=="function"&&(S=w,w=null);var T=u.test(process.version)?function(F,O,E,C){return y(F,_(F,O,E,C))}:function(F,O,E,C){return y(F,O,_(F,O,E,C))};return T(h,w,S);function _(D,F,O,E){return function(C,k){C&&(C.code==="EMFILE"||C.code==="ENFILE")?z([T,[D,F,O],C,E||Date.now(),Date.now()]):(k&&k.sort&&k.sort(),typeof O=="function"&&O.call(this,C,k))}}}if(process.version.substr(0,4)==="v0.8"){var m=Ft(e);g=m.ReadStream,I=m.WriteStream}var l=e.ReadStream;l&&(g.prototype=Object.create(l.prototype),g.prototype.open=A);var d=e.WriteStream;d&&(I.prototype=Object.create(d.prototype),I.prototype.open=te),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(h){g=h},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return I},set:function(h){I=h},enumerable:!0,configurable:!0});var $=g;Object.defineProperty(e,"FileReadStream",{get:function(){return $},set:function(h){$=h},enumerable:!0,configurable:!0});var p=I;Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(h){p=h},enumerable:!0,configurable:!0});function g(h,w){return this instanceof g?(l.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function A(){var h=this;Pe(h.path,h.flags,h.mode,function(w,S){w?(h.autoClose&&h.destroy(),h.emit("error",w)):(h.fd=S,h.emit("open",S),h.read())})}function I(h,w){return this instanceof I?(d.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function te(){var h=this;Pe(h.path,h.flags,h.mode,function(w,S){w?(h.destroy(),h.emit("error",w)):(h.fd=S,h.emit("open",S))})}function Be(h,w){return new e.ReadStream(h,w)}function Ye(h,w){return new e.WriteStream(h,w)}var ut=e.open;e.open=Pe;function Pe(h,w,S,T){return typeof S=="function"&&(T=S,S=null),_(h,w,S,T);function _(D,F,O,E,C){return ut(D,F,O,function(k,Qi){k&&(k.code==="EMFILE"||k.code==="ENFILE")?z([_,[D,F,O,E],k,C||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}return e}function z(e){X("ENQUEUE",e[0].name,e[1]),P[x].push(e),Ne()}var he;function be(){for(var e=Date.now(),n=0;n<P[x].length;++n)P[x][n].length>2&&(P[x][n][3]=e,P[x][n][4]=e);Ne()}function Ne(){if(clearTimeout(he),he=void 0,P[x].length!==0){var e=P[x].shift(),n=e[0],t=e[1],r=e[2],i=e[3],o=e[4];if(i===void 0)X("RETRY",n.name,t),n.apply(null,t);else if(Date.now()-i>=6e4){X("TIMEOUT",n.name,t);var c=t.pop();typeof c=="function"&&c.call(null,r)}else{var a=Date.now()-o,f=Math.max(o-i,1),y=Math.min(f*1.2,100);a>=y?(X("RETRY",n.name,t),n.apply(null,t.concat([i]))):P[x].push(e)}he===void 0&&(he=setTimeout(Ne,0))}}(function(e){const n=L.fromCallback,t=R,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof t[i]=="function");Object.assign(e,t),r.forEach(i=>{e[i]=n(t[i])}),e.exists=function(i,o){return typeof o=="function"?t.exists(i,o):new Promise(c=>t.exists(i,c))},e.read=function(i,o,c,a,f,y){return typeof y=="function"?t.read(i,o,c,a,f,y):new Promise((u,s)=>{t.read(i,o,c,a,f,(m,l,d)=>{if(m)return s(m);u({bytesRead:l,buffer:d})})})},e.write=function(i,o,...c){return typeof c[c.length-1]=="function"?t.write(i,o,...c):new Promise((a,f)=>{t.write(i,o,...c,(y,u,s)=>{if(y)return f(y);a({bytesWritten:u,buffer:s})})})},typeof t.writev=="function"&&(e.writev=function(i,o,...c){return typeof c[c.length-1]=="function"?t.writev(i,o,...c):new Promise((a,f)=>{t.writev(i,o,...c,(y,u,s)=>{if(y)return f(y);a({bytesWritten:u,buffers:s})})})}),typeof t.realpath.native=="function"?e.realpath.native=n(t.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Q);var Te={},Ze={};const Nt=J;Ze.checkPath=function(n){if(process.platform==="win32"&&/[<>:"|?*]/.test(n.replace(Nt.parse(n).root,""))){const r=new Error(`Path contains invalid characters: ${n}`);throw r.code="EINVAL",r}};const en=Q,{checkPath:nn}=Ze,tn=e=>{const n={mode:511};return typeof e=="number"?e:{...n,...e}.mode};Te.makeDir=async(e,n)=>(nn(e),en.mkdir(e,{mode:tn(n),recursive:!0})),Te.makeDirSync=(e,n)=>(nn(e),en.mkdirSync(e,{mode:tn(n),recursive:!0}));const Tt=L.fromPromise,{makeDir:_t,makeDirSync:_e}=Te,Ce=Tt(_t);var B={mkdirs:Ce,mkdirsSync:_e,mkdirp:Ce,mkdirpSync:_e,ensureDir:Ce,ensureDirSync:_e};const Ct=L.fromPromise,rn=Q;function xt(e){return rn.access(e).then(()=>!0).catch(()=>!1)}var H={pathExists:Ct(xt),pathExistsSync:rn.existsSync};const b=R;function jt(e,n,t,r){b.open(e,"r+",(i,o)=>{if(i)return r(i);b.futimes(o,n,t,c=>{b.close(o,a=>{r&&r(c||a)})})})}function It(e,n,t){const r=b.openSync(e,"r+");return b.futimesSync(r,n,t),b.closeSync(r)}var on={utimesMillis:jt,utimesMillisSync:It};const Z=Q,N=J,Lt=Ve;function Rt(e,n,t){const r=t.dereference?i=>Z.stat(i,{bigint:!0}):i=>Z.lstat(i,{bigint:!0});return Promise.all([r(e),r(n).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function Mt(e,n,t){let r;const i=t.dereference?c=>Z.statSync(c,{bigint:!0}):c=>Z.lstatSync(c,{bigint:!0}),o=i(e);try{r=i(n)}catch(c){if(c.code==="ENOENT")return{srcStat:o,destStat:null};throw c}return{srcStat:o,destStat:r}}function Wt(e,n,t,r,i){Lt.callbackify(Rt)(e,n,r,(o,c)=>{if(o)return i(o);const{srcStat:a,destStat:f}=c;if(f){if(re(a,f)){const y=N.basename(e),u=N.basename(n);return t==="move"&&y!==u&&y.toLowerCase()===u.toLowerCase()?i(null,{srcStat:a,destStat:f,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!f.isDirectory())return i(new Error(`Cannot overwrite non-directory '${n}' with directory '${e}'.`));if(!a.isDirectory()&&f.isDirectory())return i(new Error(`Cannot overwrite directory '${n}' with non-directory '${e}'.`))}return a.isDirectory()&&xe(e,n)?i(new Error(Se(e,n,t))):i(null,{srcStat:a,destStat:f})})}function At(e,n,t,r){const{srcStat:i,destStat:o}=Mt(e,n,r);if(o){if(re(i,o)){const c=N.basename(e),a=N.basename(n);if(t==="move"&&c!==a&&c.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${n}' with non-directory '${e}'.`)}if(i.isDirectory()&&xe(e,n))throw new Error(Se(e,n,t));return{srcStat:i,destStat:o}}function cn(e,n,t,r,i){const o=N.resolve(N.dirname(e)),c=N.resolve(N.dirname(t));if(c===o||c===N.parse(c).root)return i();Z.stat(c,{bigint:!0},(a,f)=>a?a.code==="ENOENT"?i():i(a):re(n,f)?i(new Error(Se(e,t,r))):cn(e,n,c,r,i))}function un(e,n,t,r){const i=N.resolve(N.dirname(e)),o=N.resolve(N.dirname(t));if(o===i||o===N.parse(o).root)return;let c;try{c=Z.statSync(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(re(n,c))throw new Error(Se(e,t,r));return un(e,n,o,r)}function re(e,n){return n.ino&&n.dev&&n.ino===e.ino&&n.dev===e.dev}function xe(e,n){const t=N.resolve(e).split(N.sep).filter(i=>i),r=N.resolve(n).split(N.sep).filter(i=>i);return t.reduce((i,o,c)=>i&&r[c]===o,!0)}function Se(e,n,t){return`Cannot ${t} '${e}' to a subdirectory of itself, '${n}'.`}var ee={checkPaths:Wt,checkPathsSync:At,checkParentPaths:cn,checkParentPathsSync:un,isSrcSubdir:xe,areIdentical:re};const W=R,ie=J,Jt=B.mkdirs,qt=H.pathExists,Bt=on.utimesMillis,oe=ee;function Yt(e,n,t,r){typeof t=="function"&&!r?(r=t,t={}):typeof t=="function"&&(t={filter:t}),r=r||function(){},t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),oe.checkPaths(e,n,"copy",t,(i,o)=>{if(i)return r(i);const{srcStat:c,destStat:a}=o;oe.checkParentPaths(e,c,n,"copy",f=>f?r(f):t.filter?fn(an,a,e,n,t,r):an(a,e,n,t,r))})}function an(e,n,t,r,i){const o=ie.dirname(t);qt(o,(c,a)=>{if(c)return i(c);if(a)return we(e,n,t,r,i);Jt(o,f=>f?i(f):we(e,n,t,r,i))})}function fn(e,n,t,r,i,o){Promise.resolve(i.filter(t,r)).then(c=>c?e(n,t,r,i,o):o(),c=>o(c))}function Ut(e,n,t,r,i){return r.filter?fn(we,e,n,t,r,i):we(e,n,t,r,i)}function we(e,n,t,r,i){(r.dereference?W.stat:W.lstat)(n,(c,a)=>c?i(c):a.isDirectory()?zt(a,e,n,t,r,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?Gt(a,e,n,t,r,i):a.isSymbolicLink()?er(e,n,t,r,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${n}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${n}`)):i(new Error(`Unknown file: ${n}`)))}function Gt(e,n,t,r,i,o){return n?Vt(e,t,r,i,o):sn(e,t,r,i,o)}function Vt(e,n,t,r,i){if(r.overwrite)W.unlink(t,o=>o?i(o):sn(e,n,t,r,i));else return r.errorOnExist?i(new Error(`'${t}' already exists`)):i()}function sn(e,n,t,r,i){W.copyFile(n,t,o=>o?i(o):r.preserveTimestamps?Kt(e.mode,n,t,i):pe(t,e.mode,i))}function Kt(e,n,t,r){return Qt(e)?Xt(t,e,i=>i?r(i):ln(e,n,t,r)):ln(e,n,t,r)}function Qt(e){return(e&128)===0}function Xt(e,n,t){return pe(e,n|128,t)}function ln(e,n,t,r){Ht(n,t,i=>i?r(i):pe(t,e,r))}function pe(e,n,t){return W.chmod(e,n,t)}function Ht(e,n,t){W.stat(e,(r,i)=>r?t(r):Bt(n,i.atime,i.mtime,t))}function zt(e,n,t,r,i,o){return n?yn(t,r,i,o):bt(e.mode,t,r,i,o)}function bt(e,n,t,r,i){W.mkdir(t,o=>{if(o)return i(o);yn(n,t,r,c=>c?i(c):pe(t,e,i))})}function yn(e,n,t,r){W.readdir(e,(i,o)=>i?r(i):mn(o,e,n,t,r))}function mn(e,n,t,r,i){const o=e.pop();return o?Zt(e,o,n,t,r,i):i()}function Zt(e,n,t,r,i,o){const c=ie.join(t,n),a=ie.join(r,n);oe.checkPaths(c,a,"copy",i,(f,y)=>{if(f)return o(f);const{destStat:u}=y;Ut(u,c,a,i,s=>s?o(s):mn(e,t,r,i,o))})}function er(e,n,t,r,i){W.readlink(n,(o,c)=>{if(o)return i(o);if(r.dereference&&(c=ie.resolve(process.cwd(),c)),e)W.readlink(t,(a,f)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?W.symlink(c,t,i):i(a):(r.dereference&&(f=ie.resolve(process.cwd(),f)),oe.isSrcSubdir(c,f)?i(new Error(`Cannot copy '${c}' to a subdirectory of itself, '${f}'.`)):e.isDirectory()&&oe.isSrcSubdir(f,c)?i(new Error(`Cannot overwrite '${f}' with '${c}'.`)):nr(c,t,i)));else return W.symlink(c,t,i)})}function nr(e,n,t){W.unlink(n,r=>r?t(r):W.symlink(e,n,t))}var tr=Yt;const j=R,ce=J,rr=B.mkdirsSync,ir=on.utimesMillisSync,ue=ee;function or(e,n,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:r,destStat:i}=ue.checkPathsSync(e,n,"copy",t);return ue.checkParentPathsSync(e,r,n,"copy"),cr(i,e,n,t)}function cr(e,n,t,r){if(r.filter&&!r.filter(n,t))return;const i=ce.dirname(t);return j.existsSync(i)||rr(i),dn(e,n,t,r)}function ur(e,n,t,r){if(!(r.filter&&!r.filter(n,t)))return dn(e,n,t,r)}function dn(e,n,t,r){const o=(r.dereference?j.statSync:j.lstatSync)(n);if(o.isDirectory())return dr(o,e,n,t,r);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return ar(o,e,n,t,r);if(o.isSymbolicLink())return wr(e,n,t,r);throw o.isSocket()?new Error(`Cannot copy a socket file: ${n}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${n}`):new Error(`Unknown file: ${n}`)}function ar(e,n,t,r,i){return n?fr(e,t,r,i):hn(e,t,r,i)}function fr(e,n,t,r){if(r.overwrite)return j.unlinkSync(t),hn(e,n,t,r);if(r.errorOnExist)throw new Error(`'${t}' already exists`)}function hn(e,n,t,r){return j.copyFileSync(n,t),r.preserveTimestamps&&sr(e.mode,n,t),je(t,e.mode)}function sr(e,n,t){return lr(e)&&yr(t,e),mr(n,t)}function lr(e){return(e&128)===0}function yr(e,n){return je(e,n|128)}function je(e,n){return j.chmodSync(e,n)}function mr(e,n){const t=j.statSync(e);return ir(n,t.atime,t.mtime)}function dr(e,n,t,r,i){return n?Sn(t,r,i):hr(e.mode,t,r,i)}function hr(e,n,t,r){return j.mkdirSync(t),Sn(n,t,r),je(t,e)}function Sn(e,n,t){j.readdirSync(e).forEach(r=>Sr(r,e,n,t))}function Sr(e,n,t,r){const i=ce.join(n,e),o=ce.join(t,e),{destStat:c}=ue.checkPathsSync(i,o,"copy",r);return ur(c,i,o,r)}function wr(e,n,t,r){let i=j.readlinkSync(n);if(r.dereference&&(i=ce.resolve(process.cwd(),i)),e){let o;try{o=j.readlinkSync(t)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return j.symlinkSync(i,t);throw c}if(r.dereference&&(o=ce.resolve(process.cwd(),o)),ue.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(j.statSync(t).isDirectory()&&ue.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return pr(i,t)}else return j.symlinkSync(i,t)}function pr(e,n){return j.unlinkSync(n),j.symlinkSync(e,n)}var vr=or;const Er=L.fromCallback;var Ie={copy:Er(tr),copySync:vr};const wn=R,pn=J,v=Ke,ae=process.platform==="win32";function vn(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||wn[t],t=t+"Sync",e[t]=e[t]||wn[t]}),e.maxBusyTries=e.maxBusyTries||3}function Le(e,n,t){let r=0;typeof n=="function"&&(t=n,n={}),v(e,"rimraf: missing path"),v.strictEqual(typeof e,"string","rimraf: path should be a string"),v.strictEqual(typeof t,"function","rimraf: callback function required"),v(n,"rimraf: invalid options argument provided"),v.strictEqual(typeof n,"object","rimraf: options should be object"),vn(n),En(e,n,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&r<n.maxBusyTries){r++;const c=r*100;return setTimeout(()=>En(e,n,i),c)}o.code==="ENOENT"&&(o=null)}t(o)})}function En(e,n,t){v(e),v(n),v(typeof t=="function"),n.lstat(e,(r,i)=>{if(r&&r.code==="ENOENT")return t(null);if(r&&r.code==="EPERM"&&ae)return $n(e,n,r,t);if(i&&i.isDirectory())return ve(e,n,r,t);n.unlink(e,o=>{if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return ae?$n(e,n,o,t):ve(e,n,o,t);if(o.code==="EISDIR")return ve(e,n,o,t)}return t(o)})})}function $n(e,n,t,r){v(e),v(n),v(typeof r=="function"),n.chmod(e,438,i=>{i?r(i.code==="ENOENT"?null:t):n.stat(e,(o,c)=>{o?r(o.code==="ENOENT"?null:t):c.isDirectory()?ve(e,n,t,r):n.unlink(e,r)})})}function kn(e,n,t){let r;v(e),v(n);try{n.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw t}try{r=n.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw t}r.isDirectory()?Ee(e,n,t):n.unlinkSync(e)}function ve(e,n,t,r){v(e),v(n),v(typeof r=="function"),n.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?$r(e,n,r):i&&i.code==="ENOTDIR"?r(t):r(i)})}function $r(e,n,t){v(e),v(n),v(typeof t=="function"),n.readdir(e,(r,i)=>{if(r)return t(r);let o=i.length,c;if(o===0)return n.rmdir(e,t);i.forEach(a=>{Le(pn.join(e,a),n,f=>{if(!c){if(f)return t(c=f);--o===0&&n.rmdir(e,t)}})})})}function gn(e,n){let t;n=n||{},vn(n),v(e,"rimraf: missing path"),v.strictEqual(typeof e,"string","rimraf: path should be a string"),v(n,"rimraf: missing options"),v.strictEqual(typeof n,"object","rimraf: options should be object");try{t=n.lstatSync(e)}catch(r){if(r.code==="ENOENT")return;r.code==="EPERM"&&ae&&kn(e,n,r)}try{t&&t.isDirectory()?Ee(e,n,null):n.unlinkSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM")return ae?kn(e,n,r):Ee(e,n,r);if(r.code!=="EISDIR")throw r;Ee(e,n,r)}}function Ee(e,n,t){v(e),v(n);try{n.rmdirSync(e)}catch(r){if(r.code==="ENOTDIR")throw t;if(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")kr(e,n);else if(r.code!=="ENOENT")throw r}}function kr(e,n){if(v(e),v(n),n.readdirSync(e).forEach(t=>gn(pn.join(e,t),n)),ae){const t=Date.now();do try{return n.rmdirSync(e,n)}catch{}while(Date.now()-t<500)}else return n.rmdirSync(e,n)}var gr=Le;Le.sync=gn;const $e=R,Fr=L.fromCallback,Fn=gr;function Pr(e,n){if($e.rm)return $e.rm(e,{recursive:!0,force:!0},n);Fn(e,n)}function Or(e){if($e.rmSync)return $e.rmSync(e,{recursive:!0,force:!0});Fn.sync(e)}var ke={remove:Fr(Pr),removeSync:Or};const Dr=L.fromPromise,Pn=Q,On=J,Dn=B,Nn=ke,Tn=Dr(async function(n){let t;try{t=await Pn.readdir(n)}catch{return Dn.mkdirs(n)}return Promise.all(t.map(r=>Nn.remove(On.join(n,r))))});function _n(e){let n;try{n=Pn.readdirSync(e)}catch{return Dn.mkdirsSync(e)}n.forEach(t=>{t=On.join(e,t),Nn.removeSync(t)})}var Nr={emptyDirSync:_n,emptydirSync:_n,emptyDir:Tn,emptydir:Tn};const Tr=L.fromCallback,Cn=J,U=R,xn=B;function _r(e,n){function t(){U.writeFile(e,"",r=>{if(r)return n(r);n()})}U.stat(e,(r,i)=>{if(!r&&i.isFile())return n();const o=Cn.dirname(e);U.stat(o,(c,a)=>{if(c)return c.code==="ENOENT"?xn.mkdirs(o,f=>{if(f)return n(f);t()}):n(c);a.isDirectory()?t():U.readdir(o,f=>{if(f)return n(f)})})})}function Cr(e){let n;try{n=U.statSync(e)}catch{}if(n&&n.isFile())return;const t=Cn.dirname(e);try{U.statSync(t).isDirectory()||U.readdirSync(t)}catch(r){if(r&&r.code==="ENOENT")xn.mkdirsSync(t);else throw r}U.writeFileSync(e,"")}var xr={createFile:Tr(_r),createFileSync:Cr};const jr=L.fromCallback,jn=J,G=R,In=B,Ir=H.pathExists,{areIdentical:Ln}=ee;function Lr(e,n,t){function r(i,o){G.link(i,o,c=>{if(c)return t(c);t(null)})}G.lstat(n,(i,o)=>{G.lstat(e,(c,a)=>{if(c)return c.message=c.message.replace("lstat","ensureLink"),t(c);if(o&&Ln(a,o))return t(null);const f=jn.dirname(n);Ir(f,(y,u)=>{if(y)return t(y);if(u)return r(e,n);In.mkdirs(f,s=>{if(s)return t(s);r(e,n)})})})})}function Rr(e,n){let t;try{t=G.lstatSync(n)}catch{}try{const o=G.lstatSync(e);if(t&&Ln(o,t))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}const r=jn.dirname(n);return G.existsSync(r)||In.mkdirsSync(r),G.linkSync(e,n)}var Mr={createLink:jr(Lr),createLinkSync:Rr};const V=J,fe=R,Wr=H.pathExists;function Ar(e,n,t){if(V.isAbsolute(e))return fe.lstat(e,r=>r?(r.message=r.message.replace("lstat","ensureSymlink"),t(r)):t(null,{toCwd:e,toDst:e}));{const r=V.dirname(n),i=V.join(r,e);return Wr(i,(o,c)=>o?t(o):c?t(null,{toCwd:i,toDst:e}):fe.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),t(a)):t(null,{toCwd:e,toDst:V.relative(r,e)})))}}function Jr(e,n){let t;if(V.isAbsolute(e)){if(t=fe.existsSync(e),!t)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const r=V.dirname(n),i=V.join(r,e);if(t=fe.existsSync(i),t)return{toCwd:i,toDst:e};if(t=fe.existsSync(e),!t)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:V.relative(r,e)}}}var qr={symlinkPaths:Ar,symlinkPathsSync:Jr};const Rn=R;function Br(e,n,t){if(t=typeof n=="function"?n:t,n=typeof n=="function"?!1:n,n)return t(null,n);Rn.lstat(e,(r,i)=>{if(r)return t(null,"file");n=i&&i.isDirectory()?"dir":"file",t(null,n)})}function Yr(e,n){let t;if(n)return n;try{t=Rn.lstatSync(e)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}var Ur={symlinkType:Br,symlinkTypeSync:Yr};const Gr=L.fromCallback,Mn=J,q=Q,Wn=B,Vr=Wn.mkdirs,Kr=Wn.mkdirsSync,An=qr,Qr=An.symlinkPaths,Xr=An.symlinkPathsSync,Jn=Ur,Hr=Jn.symlinkType,zr=Jn.symlinkTypeSync,br=H.pathExists,{areIdentical:qn}=ee;function Zr(e,n,t,r){r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,q.lstat(n,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([q.stat(e),q.stat(n)]).then(([c,a])=>{if(qn(c,a))return r(null);Bn(e,n,t,r)}):Bn(e,n,t,r)})}function Bn(e,n,t,r){Qr(e,n,(i,o)=>{if(i)return r(i);e=o.toDst,Hr(o.toCwd,t,(c,a)=>{if(c)return r(c);const f=Mn.dirname(n);br(f,(y,u)=>{if(y)return r(y);if(u)return q.symlink(e,n,a,r);Vr(f,s=>{if(s)return r(s);q.symlink(e,n,a,r)})})})})}function ei(e,n,t){let r;try{r=q.lstatSync(n)}catch{}if(r&&r.isSymbolicLink()){const a=q.statSync(e),f=q.statSync(n);if(qn(a,f))return}const i=Xr(e,n);e=i.toDst,t=zr(i.toCwd,t);const o=Mn.dirname(n);return q.existsSync(o)||Kr(o),q.symlinkSync(e,n,t)}var ni={createSymlink:Gr(Zr),createSymlinkSync:ei};const{createFile:Yn,createFileSync:Un}=xr,{createLink:Gn,createLinkSync:Vn}=Mr,{createSymlink:Kn,createSymlinkSync:Qn}=ni;var ti={createFile:Yn,createFileSync:Un,ensureFile:Yn,ensureFileSync:Un,createLink:Gn,createLinkSync:Vn,ensureLink:Gn,ensureLinkSync:Vn,createSymlink:Kn,createSymlinkSync:Qn,ensureSymlink:Kn,ensureSymlinkSync:Qn};function ri(e,{EOL:n=`
`,finalEOL:t=!0,replacer:r=null,spaces:i}={}){const o=t?n:"";return JSON.stringify(e,r,i).replace(/\n/g,n)+o}function ii(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var Re={stringify:ri,stripBom:ii};let ne;try{ne=R}catch{ne=Ge}const ge=L,{stringify:Xn,stripBom:Hn}=Re;async function oi(e,n={}){typeof n=="string"&&(n={encoding:n});const t=n.fs||ne,r="throws"in n?n.throws:!0;let i=await ge.fromCallback(t.readFile)(e,n);i=Hn(i);let o;try{o=JSON.parse(i,n?n.reviver:null)}catch(c){if(r)throw c.message=`${e}: ${c.message}`,c;return null}return o}const ci=ge.fromPromise(oi);function ui(e,n={}){typeof n=="string"&&(n={encoding:n});const t=n.fs||ne,r="throws"in n?n.throws:!0;try{let i=t.readFileSync(e,n);return i=Hn(i),JSON.parse(i,n.reviver)}catch(i){if(r)throw i.message=`${e}: ${i.message}`,i;return null}}async function ai(e,n,t={}){const r=t.fs||ne,i=Xn(n,t);await ge.fromCallback(r.writeFile)(e,i,t)}const fi=ge.fromPromise(ai);function si(e,n,t={}){const r=t.fs||ne,i=Xn(n,t);return r.writeFileSync(e,i,t)}const li={readFile:ci,readFileSync:ui,writeFile:fi,writeFileSync:si};var yi=li;const Fe=yi;var mi={readJson:Fe.readFile,readJsonSync:Fe.readFileSync,writeJson:Fe.writeFile,writeJsonSync:Fe.writeFileSync};const di=L.fromCallback,se=R,zn=J,bn=B,hi=H.pathExists;function Si(e,n,t,r){typeof t=="function"&&(r=t,t="utf8");const i=zn.dirname(e);hi(i,(o,c)=>{if(o)return r(o);if(c)return se.writeFile(e,n,t,r);bn.mkdirs(i,a=>{if(a)return r(a);se.writeFile(e,n,t,r)})})}function wi(e,...n){const t=zn.dirname(e);if(se.existsSync(t))return se.writeFileSync(e,...n);bn.mkdirsSync(t),se.writeFileSync(e,...n)}var Me={outputFile:di(Si),outputFileSync:wi};const{stringify:pi}=Re,{outputFile:vi}=Me;async function Ei(e,n,t={}){const r=pi(n,t);await vi(e,r,t)}var $i=Ei;const{stringify:ki}=Re,{outputFileSync:gi}=Me;function Fi(e,n,t){const r=ki(n,t);gi(e,r,t)}var Pi=Fi;const Oi=L.fromPromise,M=mi;M.outputJson=Oi($i),M.outputJsonSync=Pi,M.outputJSON=M.outputJson,M.outputJSONSync=M.outputJsonSync,M.writeJSON=M.writeJson,M.writeJSONSync=M.writeJsonSync,M.readJSON=M.readJson,M.readJSONSync=M.readJsonSync;var Di=M;const Ni=R,We=J,Ti=Ie.copy,Zn=ke.remove,_i=B.mkdirp,Ci=H.pathExists,et=ee;function xi(e,n,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};const i=t.overwrite||t.clobber||!1;et.checkPaths(e,n,"move",t,(o,c)=>{if(o)return r(o);const{srcStat:a,isChangingCase:f=!1}=c;et.checkParentPaths(e,a,n,"move",y=>{if(y)return r(y);if(ji(n))return nt(e,n,i,f,r);_i(We.dirname(n),u=>u?r(u):nt(e,n,i,f,r))})})}function ji(e){const n=We.dirname(e);return We.parse(n).root===n}function nt(e,n,t,r,i){if(r)return Ae(e,n,t,i);if(t)return Zn(n,o=>o?i(o):Ae(e,n,t,i));Ci(n,(o,c)=>o?i(o):c?i(new Error("dest already exists.")):Ae(e,n,t,i))}function Ae(e,n,t,r){Ni.rename(e,n,i=>i?i.code!=="EXDEV"?r(i):Ii(e,n,t,r):r())}function Ii(e,n,t,r){Ti(e,n,{overwrite:t,errorOnExist:!0},o=>o?r(o):Zn(e,r))}var Li=xi;const tt=R,Je=J,Ri=Ie.copySync,rt=ke.removeSync,Mi=B.mkdirpSync,it=ee;function Wi(e,n,t){t=t||{};const r=t.overwrite||t.clobber||!1,{srcStat:i,isChangingCase:o=!1}=it.checkPathsSync(e,n,"move",t);return it.checkParentPathsSync(e,i,n,"move"),Ai(n)||Mi(Je.dirname(n)),Ji(e,n,r,o)}function Ai(e){const n=Je.dirname(e);return Je.parse(n).root===n}function Ji(e,n,t,r){if(r)return qe(e,n,t);if(t)return rt(n),qe(e,n,t);if(tt.existsSync(n))throw new Error("dest already exists.");return qe(e,n,t)}function qe(e,n,t){try{tt.renameSync(e,n)}catch(r){if(r.code!=="EXDEV")throw r;return qi(e,n,t)}}function qi(e,n,t){return Ri(e,n,{overwrite:t,errorOnExist:!0}),rt(e)}var Bi=Wi;const Yi=L.fromCallback;var Ui={move:Yi(Li),moveSync:Bi},K={...Q,...Ie,...Nr,...ti,...Di,...B,...Ui,...Me,...H,...ke};const Gi=e=>`{
  "extends": ["${e}"]
}`,ot={printWidth:100,arrowParens:"avoid",bracketSpacing:!0,endOfLine:"lf",bracketSameLine:!1,quoteProps:"as-needed",semi:!1,singleQuote:!0,tabWidth:2,trailingComma:"none",useTabs:!1,vueIndentScriptAndStyle:!1,overrides:[{files:"*.md",options:{embeddedLanguageFormatting:"off"}}]},ct=le.resolve();async function Vi(){const e=le.resolve(mt(import.meta.url),"../../meta-data.json"),n=K.readFileSync(e),t=JSON.parse(n);let r;try{r=await at.prompt([{type:"list",name:"lintType",message:"Select Your project lint type?",choices:t.packages.map(y=>y.packageName),loop:!1}])}catch(y){console.log(lt(y));return}const{lintType:i}=r,o=le.join(ct,"package.json");if(K.existsSync(o)){const y=JSON.parse(K.readFileSync(o,"utf-8"));y.devDependencies?y.devDependencies[`eslint-config-${i}`]=`^${t.packages.find(u=>u.packageName===i).packageVersion}`:y.devDependencies={[`elint-config-${i}`]:t.packages.find(u=>u.packageName===i).packageVersion},K.writeFileSync(o,Ue.format(JSON.stringify(y),{...ot,parser:"json"}))}else throw new Error("package.json is not exist!");const c=le.join(ct,".eslintrc");if(K.existsSync(c)){console.log("Directory exists, Will modify.eslintrc!");const y=K.readFileSync(c,"utf-8"),u=JSON.parse(y);Object.assign(u,{extends:Array.from(new Set([...u?.extends??[],i]))}),K.writeFileSync(c,Ue.format(JSON.stringify(u),{...ot,parser:"json"}),"utf-8")}else console.log("Directory not found, Will create.eslintrc."),K.appendFileSync(c,Gi(i),"utf-8");const a=Ki(process.env.npm_config_user_agent),f=a?a.name:"npm";switch(console.log(yt(`You selected ${r.lintType}, Please the following command!`)),f){case"yarn":console.log(` ${Qe("  yarn")}`);break;default:console.log(` ${Qe(`  ${f} install`)}`);break}console.log()}function Ki(e){if(!e)return;const t=e.split(" ")[0].split("/");return{name:t[0],version:t[1]}}Vi().catch(e=>{console.error(e)});
